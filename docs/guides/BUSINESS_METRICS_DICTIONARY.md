# Business Metrics Dictionary

This document defines the key business metrics and KPIs used in our data platform.

## Revenue Metrics

### Gross Revenue (USD)
**Definition**: Total revenue from all completed orders
**Calculation**: `SUM(total_amount) WHERE payment_status = 'paid'`
**Business Context**: Primary revenue metric for financial reporting
**Update Frequency**: Daily
**Data Source**: `gold.fact_sales`

### Net Revenue (USD)
**Definition**: Gross revenue minus returns and refunds
**Calculation**: `Gross Revenue - SUM(return_amount)`
**Business Context**: Actual revenue after accounting for returns
**Update Frequency**: Daily
**Data Source**: `gold.fact_sales`, `gold.fact_returns`

### Average Order Value (AOV)
**Definition**: Mean value of completed orders
**Calculation**: `SUM(total_amount) / COUNT(order_id) WHERE payment_status = 'paid'`
**Business Context**: Measures customer spending behavior
**Update Frequency**: Daily
**Data Source**: `gold.fact_sales`

## Customer Metrics

### Active Customer
**Definition**: Customer who has made at least one purchase in the last 90 days
**Calculation**: `COUNT(DISTINCT customer_id) WHERE last_order_date >= CURRENT_DATE - 90`
**Business Context**: Core customer base for retention analysis
**Update Frequency**: Daily
**Data Source**: `gold.dim_customers`

### Customer Lifetime Value (CLV)
**Definition**: Total revenue generated by a customer over their lifetime
**Calculation**: `SUM(total_amount) - acquisition_cost WHERE customer_id = X`
**Business Context**: Customer profitability and segmentation
**Update Frequency**: Weekly
**Data Source**: `gold.marketing_attribution`

### Customer Acquisition Cost (CAC)
**Definition**: Average cost to acquire a new customer
**Calculation**: `SUM(acquisition_cost) / COUNT(new_customers)`
**Business Context**: Marketing efficiency and ROI
**Update Frequency**: Weekly
**Data Source**: `gold.marketing_attribution`

## Product Metrics

### Product Performance Score
**Definition**: Composite score based on sales volume, revenue, and ratings
**Calculation**: `(sales_rank + revenue_rank + rating_rank) / 3`
**Business Context**: Product portfolio optimization
**Update Frequency**: Weekly
**Data Source**: `gold.dim_products`, `gold.fact_sales`

### Inventory Turnover
**Definition**: How quickly inventory is sold
**Calculation**: `COGS / Average_Inventory`
**Business Context**: Inventory management efficiency
**Update Frequency**: Monthly
**Data Source**: `gold.fact_inventory`

## Marketing Metrics

### Return on Ad Spend (ROAS)
**Definition**: Revenue generated per dollar spent on advertising
**Calculation**: `total_revenue / acquisition_cost`
**Business Context**: Marketing campaign effectiveness
**Update Frequency**: Daily
**Data Source**: `gold.marketing_attribution`

### Customer Acquisition Channel Performance
**Definition**: Performance metrics by acquisition channel
**Channels**: 
- Paid (Google Ads, Facebook Ads)
- Owned (Email, Referral)
- Earned (Organic Search, Social Media)
**Business Context**: Channel optimization and budget allocation
**Update Frequency**: Daily
**Data Source**: `gold.marketing_attribution`

### Attribution Logic
**Definition**: How credit is assigned to marketing touchpoints
**Model**: First-touch attribution
**Business Context**: Understanding customer journey
**Update Frequency**: Real-time
**Data Source**: `gold.marketing_attribution`

## Operational Metrics

### Order Fulfillment Rate
**Definition**: Percentage of orders successfully fulfilled
**Calculation**: `COUNT(fulfilled_orders) / COUNT(total_orders) * 100`
**Business Context**: Operational efficiency
**Update Frequency**: Daily
**Data Source**: `gold.fact_sales`

### Average Processing Time
**Definition**: Mean time from order to fulfillment
**Calculation**: `AVG(fulfillment_date - order_date)`
**Business Context**: Customer experience and operational efficiency
**Update Frequency**: Daily
**Data Source**: `gold.fact_sales`

## Data Quality Metrics

### Data Freshness
**Definition**: How recent the data is
**Threshold**: Bronze data < 2 hours old, Silver < 4 hours old, Gold < 6 hours old
**Business Context**: Data reliability for decision making
**Update Frequency**: Hourly
**Data Source**: All layers

### Data Completeness
**Definition**: Percentage of non-null values in critical fields
**Threshold**: >95% for required fields
**Business Context**: Data reliability
**Update Frequency**: Daily
**Data Source**: All layers

### Schema Compliance
**Definition**: Percentage of records conforming to schema contracts
**Threshold**: >99% compliance
**Business Context**: Data quality and consistency
**Update Frequency**: Daily
**Data Source**: Bronze layer

## Segmentation Definitions

### Customer Segments
- **Bronze**: Total spent < $1,000
- **Silver**: Total spent $1,000 - $5,000
- **Gold**: Total spent $5,000 - $10,000
- **Platinum**: Total spent > $10,000

### Product Categories
- **Electronics**: Electronic devices and accessories
- **Grocery**: Food and household items
- **Home**: Home improvement and decor
- **Sports**: Sports equipment and apparel
- **Clothing**: Fashion and apparel

### Geographic Regions
- **West**: CA, OR, WA, NV, AZ
- **Northeast**: NY, NJ, CT, MA, VT, NH, ME
- **South**: TX, OK, AR, LA, MS, AL, TN, KY
- **Midwest**: All other states

## Calculation Notes

### Currency Conversion
- All monetary values stored in USD
- FX rates applied at time of transaction
- Historical rates maintained for reporting

### Date Handling
- All dates stored in UTC
- Business day calculations exclude weekends and holidays
- Fiscal year follows calendar year

### Aggregation Rules
- Revenue: Sum of all completed transactions
- Customers: Distinct count of customer IDs
- Products: Distinct count of product IDs
- Time periods: Based on order_date field

## Data Sources

### Primary Sources
- **Orders**: `gold.fact_sales`
- **Customers**: `gold.dim_customers`
- **Products**: `gold.dim_products`
- **Marketing**: `gold.marketing_attribution`

### Supporting Sources
- **Returns**: `gold.fact_returns`
- **Inventory**: `gold.fact_inventory`
- **Payments**: `gold.fact_payments`

## Update Schedule

- **Real-time**: Order status, inventory levels
- **Hourly**: Revenue, order counts
- **Daily**: Customer metrics, product performance
- **Weekly**: Marketing attribution, customer segmentation
- **Monthly**: Financial reconciliation, compliance reporting

## Contact Information

For questions about metrics definitions:
- **Data Team**: data-team@company.com
- **Analytics Team**: analytics@company.com
- **Business Intelligence**: bi@company.com

---

*Last Updated: 2025-01-27*
*Version: 1.0*
