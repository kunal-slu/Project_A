# Dataset registry for data lineage tracking.
# Maps logical dataset names to physical locations and schemas.

# Lineage configuration
enabled: true
url: ${OPENLINEAGE_URL:-http://localhost:5000}  # OpenLineage backend URL
namespace: ${OPENLINEAGE_NAMESPACE:-data-platform}

datasets:
  # Bronze layer
  - name: bronze.behavior
    location: s3://my-etl-lake-demo/bronze/redshift/behavior
    schema: config/schema_definitions/redshift_behavior_bronze.json
    layer: bronze
    source: redshift
    table: customer_behavior
    
  - name: bronze.crm_accounts
    location: s3://my-etl-lake-demo/bronze/crm/accounts
    schema: config/schema_definitions/crm_accounts_bronze.json
    layer: bronze
    source: crm
    table: accounts
    
  - name: bronze.crm_contacts
    location: s3://my-etl-lake-demo/bronze/crm/contacts
    schema: config/schema_definitions/crm_contacts_bronze.json
    layer: bronze
    source: crm
    table: contacts
    
  - name: bronze.snowflake_orders
    location: s3://my-etl-lake-demo/bronze/snowflake/orders
    schema: config/schema_definitions/snowflake_orders_bronze.json
    layer: bronze
    source: snowflake
    table: orders
    
  - name: bronze.fx_rates
    location: s3://my-etl-lake-demo/bronze/fx/rates
    schema: config/schema_definitions/fx_rates_bronze.json
    layer: bronze
    source: fx
    table: rates
    
  # Silver layer
  - name: silver.behavior
    location: s3://my-etl-lake-demo/silver/behavior
    schema: config/schema_definitions/behavior_silver.json
    layer: silver
    source: redshift
    table: behavior
    
  - name: silver.crm_accounts
    location: s3://my-etl-lake-demo/silver/crm/accounts
    schema: config/schema_definitions/crm_accounts_silver.json
    layer: silver
    source: crm
    table: accounts
    
  - name: silver.crm_contacts
    location: s3://my-etl-lake-demo/silver/crm/contacts
    schema: config/schema_definitions/crm_contacts_silver.json
    layer: silver
    source: crm
    table: contacts
    
  - name: silver.snowflake_orders
    location: s3://my-etl-lake-demo/silver/snowflake/orders
    schema: config/schema_definitions/orders_silver.json
    layer: silver
    source: snowflake
    table: orders
    
  - name: silver.fx_rates
    location: s3://my-etl-lake-demo/silver/fx/rates
    schema: config/schema_definitions/fx_rates_silver.json
    layer: silver
    source: fx
    table: rates
    
  # Gold layer
  - name: gold.customer_360
    location: s3://my-etl-lake-demo/gold/customer_360
    schema: config/schema_definitions/customer_360_gold.json
    layer: gold
    source: derived
    table: customer_360
    
  - name: gold.product_perf_daily
    location: s3://my-etl-lake-demo/gold/product_perf_daily
    schema: config/schema_definitions/product_perf_daily_gold.json
    layer: gold
    source: derived
    table: product_perf_daily
